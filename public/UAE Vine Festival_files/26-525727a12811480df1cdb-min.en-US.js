(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[26],{"./common/temp/node_modules/@sqs/site-rendering/Maps/MapView.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/babel-runtime/core-js/object/assign.js");var b=p(a);var s=r("./common/temp/node_modules/babel-runtime/helpers/slicedToArray.js");var o=p(s);var n=r("./common/temp/node_modules/babel-runtime/core-js/object/entries.js");var l=p(n);var i=r("./common/temp/node_modules/babel-runtime/helpers/classCallCheck.js");var m=p(i);var u=r("./common/temp/node_modules/babel-runtime/helpers/createClass.js");var d=p(u);function p(e){return e&&e.__esModule?e:{default:e}}var h=r("./common/temp/node_modules/lodash/cloneDeep.js");var c=r("./common/temp/node_modules/@sqs/site-rendering/Maps/loadGoogleMapsApi.js");var f=r("./common/temp/node_modules/@sqs/site-rendering/Maps/constants/styles.js");var y={mapLat:40.720882,mapLng:-74.000988,markerLat:null,markerLng:null,mapZoom:12,addressTitle:null,addressLine1:null,addressLine2:null,addressCountry:null};var v={style:f.Grayscale,showLabels:true,showTerrain:false,draggable:true,scrollwheel:true,showControls:true,disableDefaultUI:true,markerDraggable:false,linkOnClick:true};var g=function(){(0,d.default)(n,null,[{key:"createView",value:function e(t,r,a,s){t=(0,l.default)(t).reduce(function(e,t){var r=(0,o.default)(t,2),a=r[0],s=r[1];void 0!==s&&(e[a]=s);return e},{});t=(0,b.default)({},v,t);r=(0,b.default)({},y,r);null===r.markerLat&&(r.markerLat=r.mapLat);null===r.markerLng&&(r.markerLng=r.mapLng);return c(s).then(function(e){return new n(e,t,r,a)})}}]);function n(e,t,r,a){(0,m.default)(this,n);this.GMaps=e;this.ui=t;this.location=r;this.render(a)}(0,d.default)(n,[{key:"render",value:function e(t){var r=this.GMaps;this.container=t;var a=this.location,s=a.markerLat,n=a.markerLng,o=a.mapLat,l=a.mapLng;t.classList.add("page-map");t.innerHTML="&nbsp;";this.markerLoc=new r.LatLng(s,n);this.mapLoc=new r.LatLng(o,l);this.locationString=this.getLocationString();this.initMapImpl();this.initMarkerImpl();this.updateUIOptions()}},{key:"initMapImpl",value:function e(){this.map=new this.GMaps.Map(this.container,{zoom:this.location.mapZoom,center:this.mapLoc,draggable:this.ui.draggable,scrollwheel:this.ui.scrollwheel,disableDefaultUI:this.ui.disableDefaultUI})}},{key:"initMarkerImpl",value:function e(){var t=this;var r=this.GMaps;this.marker=new r.Marker({map:this.map,animation:r.Animation.DROP,draggable:this.ui.markerDraggable,position:this.markerLoc,title:location.addressTitle?location.addressTitle+" "+this.locationString:this.locationString,icon:""});r.event.addListener(this.marker,"click",function(){return t.handleMarkerClick()})}},{key:"getLocationString",value:function e(){var t=this.location;var r=void 0;if(t.addressLine1||t.addressLine2){r=t.addressLine1+" "+t.addressLine2;t.addressCountry&&(r+=", "+t.addressCountry)}else r=t.mapLat+","+t.mapLng;return r}},{key:"handleMarkerClick",value:function e(){if(this.marker.dragging||!this.ui.linkOnClick)return;var t=encodeURIComponent(this.marker.getPosition().toUrlValue());var r=encodeURIComponent(this.getLocationString());var a=encodeURIComponent(this.map.getZoom());window.open("http://maps.google.com/maps?sll="+t+"&q="+r+"&z="+a)}},{key:"redraw",value:function e(){this.GMaps.event.trigger(this.map,"resize")}},{key:"updateUIOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=this.GMaps;(0,b.default)(this.ui,t);var a=this.ui,s=a.showControls,n=a.showTerrain,o=a.showLabels,l=a.draggable,i=a.disableDefaultUI,m=a.scrollwheel,u=a.markerDraggable;var d=h(this.ui.style);o&&d.labels&&Array.prototype.push.apply(d.colors,d.labels);var p=void 0;p=d.satellite?r.MapTypeId.HYBRID:n?r.MapTypeId.TERRAIN:r.MapTypeId.ROADMAP;var c={mapTypeControl:false,mapTypeId:p,overviewMapControl:false,panControl:s,scaleControl:s,streetViewControl:false,styles:d.colors,zoomControl:s,draggable:l,disableDefaultUI:i,scrollwheel:m};this.map.setOptions(c);var f={draggable:u};this.marker.setOptions(f);if(d.marker){var y=d.marker.imgUrl;var v=d.marker.naturalWidth;var g=d.marker.naturalHeight;this.marker.setIcon({url:y,size:new r.Size(v,g),scaledSize:new r.Size(v/2,g/2),anchor:new r.Point(v/4,g/2)})}else this.marker.setIcon(null)}},{key:"updateLocation",value:function e(t){"mapLat"in t&&"mapLng"in t&&this.updateCenter(t.mapLat,t.mapLng);"markerLat"in t&&"markerLng"in t&&this.updateMarker(t.markerLat,t.markerLng);"zoom"in t&&this.setZoom(t.zoom)}},{key:"centerMarker",value:function e(){this.redraw();this.map.setCenter(this.marker.getPosition())}},{key:"getCenter",value:function e(){var t=this.map.getCenter();return{lat:t.lat(),lng:t.lng()}}},{key:"updateCenter",value:function e(t,r){this.location.mapLat=t;this.location.mapLng=r;this.map.setCenter(new this.GMaps.LatLng(t,r))}},{key:"getMarkerPosition",value:function e(){var t=this.marker.getPosition();return{lat:t.lat(),lng:t.lng()}}},{key:"updateMarker",value:function e(t,r){this.location.markerLat=t;this.location.markerLng=r;var a=this.getLocationString();this.marker.setPosition(new this.GMaps.LatLng(t,r));this.marker.title=location.addressTitle?location.addressTitle+" "+a:a}},{key:"setZoom",value:function e(t){this.location.zoom=t;this.map.setZoom(t)}}]);return n}();e.exports=g},"./common/temp/node_modules/@sqs/site-rendering/Maps/constants/styles.js":function(e,t,r){"use strict";var a={imgUrl:"/universal/images-v6/icons/cover-pages-map-marker-pin-dark-2x.png",naturalWidth:48,naturalHeight:64};var s={imgUrl:"/universal/images-v6/icons/cover-pages-map-marker-pin-light-2x.png",naturalWidth:48,naturalHeight:64};var n={Original:{marker:null,colors:[{elementType:"labels",stylers:[{visibility:"off"}]}],labels:[{elementType:"labels",stylers:[{visibility:"on"}]}]},Grayscale:{marker:a,colors:[{featureType:"landscape.man_made",elementType:"all",stylers:[{lightness:51}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{gamma:2.51}]},{featureType:"road.arterial",elementType:"all",stylers:[{gamma:1.9}]},{featureType:"water",elementType:"all",stylers:[{gamma:1.36}]},{featureType:"road.highway",elementType:"all",stylers:[{gamma:1.33}]},{featureType:"transit.station.rail",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit.station.bus",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{gamma:1.2},{hue:"#0033ff"}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{gamma:1.43}]},{featureType:"water",elementType:"all",stylers:[{lightness:-47}]},{featureType:"all",elementType:"all",stylers:[{saturation:-100}]},{featureType:"road.arterial",elementType:"labels",stylers:[{lightness:23}]},{elementType:"labels",stylers:[{visibility:"off"}]}],labels:[{elementType:"labels",stylers:[{visibility:"on"}]}]},Satellite:{satellite:true,marker:null,colors:[{stylers:[{visibility:"off"}]},{elementType:"labels",stylers:[{visibility:"off"}]}],labels:[{elementType:"labels",stylers:[{visibility:"on"}]}]},MinimalDark:{marker:s,colors:[{stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#0f0f0f"},{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#1f1f1f"},{visibility:"on"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#5a5a5a"},{visibility:"on"},{weight:.6}]}],labels:[{elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#777777"}]},{elementType:"labels.text.stroke",stylers:[{weight:2},{visibility:"on"},{color:"#1f1f1f"}]}]},MinimalLight:{marker:a,colors:[{stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#f2f2f2"},{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#bbbbbb"},{visibility:"on"},{weight:.6}]}],labels:[{elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#999999"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:2}]}]},MinimalBlue:{marker:a,colors:[{stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#ccdee9"},{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#bbbbbb"},{visibility:"on"},{weight:.6}]}],labels:[{elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#999999"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:2}]}]}};e.exports=n},"./common/temp/node_modules/@sqs/site-rendering/Maps/loadGoogleMapsApi.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r("./common/temp/node_modules/babel-runtime/core-js/promise.js");var o=n(a);var s=r("./common/temp/node_modules/@sqs/i18n-ui/lib/index.js");function n(e){return e&&e.__esModule?e:{default:e}}var l=new s.LocaleResolver;var i="//maps.googleapis.com/maps/api/js?v=3&callback=GoogleMapsApiLoadCallback";var m=3e4;var u=function e(t,r){var a=i+"&key="+r;if(t){var s=l.resolveLocale(t);a+="&language="+s.language+"&region="+s.region}return a};var d=function e(t){return window.atob(t)};var p=function e(s,n){n=n||d(window.Static.SQUARESPACE_CONTEXT.gmRenderKey);window.gMapsPromise||(window.gMapsPromise=new o.default(function(e,t){var r=setTimeout(t,m);window.GoogleMapsApiLoadCallback=function(){clearTimeout(r);e(window.google.maps);delete window.GoogleMapsApiLoadCallback};var a=document.createElement("script");document.getElementsByTagName("head")[0].appendChild(a);a.src=u(s,n)}));return window.gMapsPromise};t.default=p;e.exports=t["default"]},"./common/temp/node_modules/babel-runtime/core-js/object/entries.js":function(e,t,r){e.exports={default:r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/fn/object/entries.js"),__esModule:true}},"./common/temp/node_modules/babel-runtime/node_modules/core-js/library/fn/object/entries.js":function(e,t,r){r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/es7.object.entries.js");e.exports=r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js").Object.entries},"./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-to-array.js":function(e,t,r){var i=r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js");var m=r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js");var u=r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js");var d=r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-pie.js").f;e.exports=function(l){return function(e){var t=u(e);var r=m(t);var a=r.length;var s=0;var n=[];var o;while(a>s){o=r[s++];i&&!d.call(t,o)||n.push(l?[o,t[o]]:t[o])}return n}}},"./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/es7.object.entries.js":function(e,t,r){var a=r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js");var s=r("./common/temp/node_modules/babel-runtime/node_modules/core-js/library/modules/_object-to-array.js")(true);a(a.S,"Object",{entries:function e(t){return s(t)}})},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/customFields/LocationMapField.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var s=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=s(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=s(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var m=s(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=s(r("./common/temp/node_modules/lodash/pick.js"));var c=s(r("./common/temp/node_modules/lodash/isNumber.js"));var f=a(r("./common/temp/node_modules/react/index.js"));var y=s(r("./common/temp/node_modules/prop-types/index.js"));var v=s(r("./common/temp/node_modules/@sqs/site-rendering/Maps/MapView.js"));var g=s(r("./common/temp/node_modules/@sqs/core-components/fields/AddressField.js"));var b=s(r("./common/temp/node_modules/@sqs/core-components/fields/ContextField.js"));var h=s(r("./common/temp/node_modules/@sqs/core-components/primitives/Spacer.js"));var k=r("./common/temp/node_modules/@sqs/core-components/build/lib/index.js");var w=r("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var L=s(r("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/customFields/LocationMapField.less"));function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,a)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),true).forEach(function(e){(0,d.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function T(s){var n=M();return function e(){var t=(0,u.default)(s),r;if(n){var a=(0,u.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,m.default)(this,r)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var C=["addressTitle","addressLine1","addressLine2","addressCountry","mapLat","mapLng","markerLat","markerLng","mapZoom"];var O=function(e){(0,i.default)(s,e);var a=T(s);function s(){var o;(0,n.default)(this,s);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o=a.call.apply(a,[this].concat(t));(0,d.default)((0,l.default)(o),"state",{geocoder:null,mapView:null,isDraggingMarker:false});(0,d.default)((0,l.default)(o),"handleUpdate",function(e){var a=_({},o.props.value,{},(0,p.default)(e,C));var t=Object.keys(a).some(function(e){var t=o.props.value[e];var r=a[e];if((0,c.default)(t)&&(0,c.default)(r))return t.toFixed(6)!==r.toFixed(6);return t!==r});t&&o.props.onChange(a)});(0,d.default)((0,l.default)(o),"onGoogleMapsIdle",function(e){var t=o.state,r=t.mapView.map,a=t.isDraggingMarker;if(a)return;o.handleUpdate({mapLat:r.center.lat(),mapLng:r.center.lng(),mapZoom:r.getZoom()})});(0,d.default)((0,l.default)(o),"onMarkerChange",function(){o.state.geocoder.geocode({location:o.state.mapView.marker.getPosition()},function(e,t){"OK"===t?o.syncFieldsWithMarker(e[0].address_components):console.error("Error geocoding marker location")})});(0,d.default)((0,l.default)(o),"syncFieldsWithMarker",function(e){var t=[];var r=[];var a="";e.forEach(function(e){e.types.includes("street_number")||e.types.includes("route")?t.push(e.short_name):e.types.includes("locality")||e.types.includes("administrative_area_level_1")||e.types.includes("postal_code")?r.push(e.short_name):e.types.includes("country")&&(a=e.long_name)});var s=o.state.mapView.marker.getPosition().lat();var n=o.state.mapView.marker.getPosition().lng();o.handleUpdate({addressLine1:t.join(" "),addressLine2:r.join(", "),addressCountry:a,markerLat:s,markerLng:n,mapLat:s,mapLng:n})});(0,d.default)((0,l.default)(o),"onSelectAddressSuggestion",function(e){var t=e.latitude,r=e.longitude;o.state.mapView.updateMarker(t,r);o.state.mapView.updateCenter(t,r);o.handleUpdate({mapLat:t,mapLng:r,markerLat:t,markerLng:r})});(0,d.default)((0,l.default)(o),"updateAddressTitle",function(e){o.handleUpdate({addressTitle:e})});return o}(0,o.default)(s,[{key:"componentDidMount",value:function e(){var t=this;var r={disableDefaultUI:false,showControls:true,scrollwheel:true,linkOnClick:false};var a=this.refs.mapAnchor;v.default.createView(r,this.props.value,a,"en-US").then(function(e){t.setState({mapView:e,geocoder:new e.GMaps.Geocoder});e.GMaps.event.addListener(e.map,"dblclick",function(e){t.state.mapView.updateMarker(e.latLng.lat(),e.latLng.lng());t.onMarkerChange()});e.GMaps.event.addListener(e.map,"idle",t.onGoogleMapsIdle);e.GMaps.event.addListener(e.marker,"dragstart",function(){t.setState({isDraggingMarker:true})});e.GMaps.event.addListener(e.marker,"dragend",function(){t.setState({isDraggingMarker:false});t.onMarkerChange()});e.updateUIOptions({markerDraggable:true})}).catch(function(e){console.error(e)})}},{key:"render",value:function e(){var r=this;var t=this.props,a=t.firstContextClassName,s=t.value,n=s.addressTitle,o=s.addressLine1,l=s.addressLine2,i=s.addressCountry;return f.default.createElement(f.Fragment,null,f.default.createElement("div",{className:"address-fields"},f.default.createElement(b.default,{className:a,label:(0,w.t)("Address")}),f.default.createElement(k.StringField,{placeholder:(0,w.t)("Business Name"),onChange:this.updateAddressTitle,value:n}),f.default.createElement(g.default,{formatValueAfterSelect:function e(t){r.onSelectAddressSuggestion(t);return t},onBlur:this.onBlur,onChange:this.handleUpdate,value:{addressLine1:o,addressLine2:l,addressCountry:i}})),f.default.createElement(h.default,{gridMultiplier:2}),f.default.createElement("div",{ref:"mapAnchor",className:L.default.mapContainer}))}}]);return s}(f.default.Component);(0,d.default)(O,"propTypes",{value:y.default.shape({addressTitle:y.default.string,addressLine1:y.default.string,addressLine2:y.default.string,addressCountry:y.default.string,mapLat:y.default.number,mapLng:y.default.number,markerLat:y.default.number,markerLng:y.default.number,mapZoom:y.default.number}).isRequired,onChange:y.default.func.isRequired});var I=O;t.default=I;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/customFields/LocationMapField.less":function(e,t,r){e.exports={mapContainer:"LocationMapField-mapContainer-UDMYi"}},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/utils/trackSaveCollectionItem.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var n=a(r("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var o=r("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/utils/ContentBrowserSentry.js");var l=function e(t){try{if(t){var r=n.default.getCollection(t.parentCollectionId||t.collectionId);s.CMSV7Events.saveCollectionItem({itemId:t.id,collectionType:r.typeName,collectionId:r.id})}}catch(e){(0,o.captureMessage)("track save collection item failed")}};var i=l;t.default=i;e.exports=t.default}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/26-ef6351dcc400a8cc9ff1f-min.en-US.js.map