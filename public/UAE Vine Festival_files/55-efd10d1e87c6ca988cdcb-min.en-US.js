(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[55],{"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useTrackView.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var i=a("./common/temp/node_modules/react/index.js");var n=function e(t){var a=(0,i.useState)(false),r=(0,o.default)(a,2),n=r[0],s=r[1];(0,i.useEffect)(function(){if(n)return;t();s(true)},[t,n])};t.default=n;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(n){var s=d();return function e(){var t=(0,p.default)(n),a;if(s){var r=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var n=a("./common/temp/node_modules/prop-types/index.js");var f=a("./common/temp/node_modules/react/index.js");var v=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.less");var b=function e(t){var a=document.createElement("DIV");a.innerHTML=t;return a.textContent||a.innerText||""};var h=function(e){(0,c.default)(n,e);var r=m(n);function n(){var s;(0,o.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];s=r.call.apply(r,[this].concat(t));(0,u.default)((0,i.default)(s),"handleClick",function(){var e=s.props,t=e.id,a=e.title,r=e.url,n=e.onRead;n(t,a,r)});(0,u.default)((0,i.default)(s),"handleDismiss",function(e){e.preventDefault();e.stopPropagation();var t=s.props,a=t.id,r=t.title,n=t.onDismiss;n(a,r)});return s}(0,s.default)(n,[{key:"render",value:function e(){var t=this.props,a=t.title,r=t.excerpt;return f.createElement("div",{className:v.container,onClick:this.handleClick},f.createElement("div",{className:v.clearButton,onClick:this.handleDismiss},"×"),f.createElement("div",{className:v.title},a),f.createElement("div",null,b(r)))}}]);return n}(f.Component);(0,u.default)(h,"propTypes",{id:n.string.isRequired,title:n.string,excerpt:n.string,url:n.string,onRead:n.func,onDismiss:n.func});e.exports=h},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.less":function(e,t,a){e.exports={container:"NotificationItem-container-1-U53",title:"NotificationItem-title-3C1eo",clearButton:"NotificationItem-clearButton-1cZcm"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(n){var s=u();return function e(){var t=(0,c.default)(n),a;if(s){var r=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,i.default)(this,a)}}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var m=a("./common/temp/node_modules/prop-types/index.js");var d=a("./common/temp/node_modules/react/index.js");var f=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.jsx");var v=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var b=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),h=b.Modal;var g=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.less");var A=h.Dialog.Trigger;var R=function(e){(0,o.default)(a,e);var t=p(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,s.default)(a,[{key:"componentDidMount",value:function e(){0===this.props.notifications.length&&v.load()}},{key:"render",value:function e(){var r=this;var t=this.props,n=t.authenticatedAccount,s=t.notifications;return s&&0!==s.length&&d.createElement(A,{className:g.triggerContainer,component:function e(t,a){return d.createElement(f,{isOpen:t,onRequestClose:a,anchor:r.refs.badge,notifications:s,authenticatedAccount:n})}},d.createElement("div",{className:g.badgeWrapper,ref:"badge"},d.createElement("span",{className:g.badgeText},s.length),d.createElement("div",{"data-test":"NotificationsBadge-badge",className:g.badge})))}}]);return a}(d.Component);(0,l.default)(R,"propTypes",{authenticatedAccount:m.object,notifications:m.array});(0,l.default)(R,"defaultProps",{notifications:[]});e.exports=R},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.less":function(e,t,a){e.exports={triggerContainer:"NotificationsBadge-triggerContainer-xql3C",badge:"NotificationsBadge-badge-2WbKP",badgeWrapper:"NotificationsBadge-badgeWrapper-GXaVv",badgeText:"NotificationsBadge-badgeText-3npzC"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(n){var s=f();return function e(){var t=(0,u.default)(n),a;if(s){var r=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,p.default)(this,a)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var n=a("./common/temp/node_modules/prop-types/index.js");var v=a("./common/temp/node_modules/react/index.js");var s=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),b=s.Modal;var h=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.jsx");var g=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var A=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.less");var R=a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts");var j=function e(t,a,r){R(t,{itemId:a,itemTitle:r})};var C=function(e){(0,l.default)(s,e);var n=d(s);function s(){var t;(0,o.default)(this,s);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];t=n.call.apply(n,[this].concat(a));(0,m.default)((0,c.default)(t),"handleNotificationRead",function(e,t,a){g.read(e);j("engagement_notifications_item_open",e,t);window.open(a)});(0,m.default)((0,c.default)(t),"dismissNotification",function(e,t){g.read(e);j("engagement_notifications_item_clear",e,t)});(0,m.default)((0,c.default)(t),"handleDismissAll",function(){t.props.notifications.forEach(function(e){t.dismissNotification(e.id,e.title)})});return t}(0,i.default)(s,[{key:"render",value:function e(){var s=this;var t=this.props,a=t.isOpen,r=t.onRequestClose,n=t.anchor,o=t.notifications;return v.createElement(b,{isOpen:o&&0!==o.length&&a,onRequestClose:r,anchor:n,position:"right",width:"360px",className:A.notifications,overlayClassName:A.overlay},v.createElement(b.Header,{className:A.header},"Squarespace updates",v.createElement("span",{className:A.dismissAll,onClick:this.handleDismissAll},"Clear all")),v.createElement(b.Body,{className:A.body},o.map(function(e){var t=e.id,a=e.title,r=e.body,n=e.readMeUrl;return v.createElement(h,{key:t,id:t,title:a,excerpt:r,url:n,onRead:s.handleNotificationRead,onDismiss:s.dismissNotification})})))}}]);return s}(v.Component);(0,m.default)(C,"propTypes",{isOpen:n.bool,onRequestClose:n.func,anchor:n.instanceOf(Node),notifications:n.array});e.exports=C},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.less":function(e,t,a){e.exports={overlay:"NotificationsModal-overlay-1vNrF",notifications:"NotificationsModal-notifications-2deQe",header:"NotificationsModal-header-2DDxs",body:"NotificationsModal-body-1Zc7L",dismissAll:"NotificationsModal-dismissAll-AdSXV"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/utils/SquarespaceNewsAPI.js");var c=function(){function e(){(0,n.default)(this,e);this.generateActions("loadSuccess","loadFailure","readSuccess","readFailure")}(0,s.default)(e,[{key:"load",value:function e(){var t=this;return i.fetch().then(function(e){t.loadSuccess(e.data.results)},this.loadFailure)}},{key:"read",value:function e(t){var a=this;return i.delete(t).then(function(){a.readSuccess(t)},this.readFailure)}}]);return e}();e.exports=o.createActions(c)},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/index.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var n=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/stores/NotificationsStore.js");var s=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.jsx");var o=r({getStores:function e(){return[n]},getPropsFromStores:function e(){var t=n.getNotifications();if(!t)return{};return{notifications:t}}},s);e.exports=o},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/stores/NotificationsStore.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var c=function(){function e(){(0,n.default)(this,e);this.state={notifications:null};this.bindActions(i);this.exportPublicMethods({getNotifications:this.getNotifications})}(0,s.default)(e,[{key:"onLoadSuccess",value:function e(t){this.setState({notifications:t})}},{key:"onReadSuccess",value:function e(t){this.setState({notifications:this.state.notifications.filter(function(e){return e.id!==t})})}},{key:"getNotifications",value:function e(){if(!this.state.notifications)return null;return this.state.notifications.slice(0,3)}}]);return e}();e.exports=o.createStore(c,"NotificationsStore")},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/utils/SquarespaceNewsAPI.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@sqs/network/lib/index.js").default;var n="/api/squarespace-news";var s={fetch:function e(){return r.get(n)},delete:function e(t){return r.delete(n+"/"+t)}};e.exports=s},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var d=r(a("./common/temp/node_modules/react/index.js"));var f=r(a("./common/temp/node_modules/classnames/index.js"));var v=r(a("./common/temp/node_modules/@sqs/cookie-cutter/index.js"));var n=r(a("./src/main/webapp/frontend/packages/enums/CollectionTypes.js"));var s=r(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var b=r(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/index.ts"));var h=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/index.js"));var g=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/index.js"));var A=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.less"));var R=r(a("./src/main/webapp/universal/src/shared/utils/LogoutAPI.js"));var j=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var C=r(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var y=r(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var w=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/components/ProductCollectionMigrationCard.js"));function N(n){var s=x();return function e(){var t=(0,u.default)(n),a;if(s){var r=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,p.default)(this,a)}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var _="commerce_pc2_migration_prompt_dismissed";var E=function e(){return C.default.isSevenOne()&&y.default.getCollectionsOfType(n.default.PRODUCTS).length>0&&j.legacyV6Flags.isFeatureEnabled(s.default.NESTED_CATEGORIES_MIGRATION_ENABLED)&&!j.legacyV6Flags.isFeatureEnabled(s.default.NESTED_CATEGORIES_MIGRATION_LOCK)&&!j.legacyV6Flags.isFeatureEnabled(s.default.NESTED_CATEGORIES)&&"true"!==v.default.get(_)};var S=function(e){(0,l.default)(s,e);var n=N(s);function s(){var e;(0,o.default)(this,s);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];e=n.call.apply(n,[this].concat(a));(0,m.default)((0,c.default)(e),"state",{hasJustDismissedPrompt:false});(0,m.default)((0,c.default)(e),"handleDismissCard",function(){v.default.set(_,"true");e.setState({hasJustDismissedPrompt:true})});(0,m.default)((0,c.default)(e),"onSignOutClicked",function(){return R.default.logout().then(function(){return window.location.reload()})});return e}(0,i.default)(s,[{key:"render",value:function e(){var t=this.props.className;var a="DEVELOPMENT"===window.Static.SQUARESPACE_CONTEXT.env;return d.default.createElement("div",null,E()&&d.default.createElement(w.default,{handleDismissCard:this.handleDismissCard}),d.default.createElement("div",{className:(0,f.default)(A.default.container,t)},a?d.default.createElement(g.default,{onLogout:this.onSignOutClicked}):d.default.createElement(b.default,null),d.default.createElement(h.default,null)))}}]);return s}(d.default.Component);e.exports=S},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.less":function(e,t,a){e.exports={container:"RootFooter-container-aHutc"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var f=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function u(n){var s=m();return function e(){var t=(0,l.default)(n),a;if(s){var r=(0,l.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,c.default)(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var n=a("./common/temp/node_modules/prop-types/index.js");var v=a("./common/temp/node_modules/react/index.js");var b=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx");var h=a("./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.jsx");var d=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),g=d.Modal;var A=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js");var R=a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx");var j=a("./src/main/webapp/frontend/packages/enums/WebsiteType.js");var C=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.less");var y=g.Dialog.Trigger;var w=function(e){(0,i.default)(n,e);var r=u(n);function n(){var d;(0,s.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];d=r.call.apply(r,[this].concat(t));(0,p.default)((0,f.default)(d),"renderTriggeredAccountModal",function(){return d.renderTrigger(d.renderAccountModal)});(0,p.default)((0,f.default)(d),"renderProfileAvatar",function(){var e=d.props,t=e.initials,a=e.displayName,r=e.avatarAssetUrl;return v.createElement(b,{initials:t,displayName:a,avatarUrl:r})});(0,p.default)((0,f.default)(d),"renderTrigger",function(r){return v.createElement(y,{startOpen:false,component:function e(t,a){return r(t,a)}},d.renderProfileAvatar())});(0,p.default)((0,f.default)(d),"renderAccountModal",function(e,t){var a=d.props,r=a.appDomain,n=a.memberAccountId,s=a.avatarAssetUrl,o=a.currentWebsiteIdentifier,i=a.displayName,c=a.isCircle,l=a.hasItemsLoaded,p=a.items,u=a.onLogout,m=a.initials;return v.createElement(h,{anchor:(0,f.default)(d),currentWebsiteIdentifier:o,onRequestClose:t,hasItemsLoaded:l,isOpen:e,items:p,memberAccountId:n,name:i,isCircle:c,avatarAssetUrl:s,onLogout:u,appDomain:r,addIndicator:true,initials:m})});return d}(0,o.default)(n,[{key:"componentDidMount",value:function e(){0===this.props.items.length&&A.load.defer()}},{key:"render",value:function e(){var t=this.props,a=t.displayName,r=t.isCircle;return v.createElement("div",null,v.createElement("div",{className:C.wrapper},this.renderTriggeredAccountModal()),v.createElement("div",{className:C.name},r&&v.createElement(R,{className:C.circle}),a))}}]);return n}(v.Component);(0,p.default)(w,"propTypes",{memberAccountId:n.string,avatarAssetUrl:n.string,displayName:n.string,initials:n.string.isRequired,isCircle:n.bool,onLogout:n.func,currentWebsiteIdentifier:n.string,currentWebsiteType:n.oneOf(Object.values(j)),appDomain:n.string,items:n.array,hasItemsLoaded:n.bool});(0,p.default)(w,"defaultProps",{items:[]});e.exports=w},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.less":function(e,t,a){e.exports={wrapper:"SitePickerBadge-wrapper-1KwBt",name:"SitePickerBadge-name-2lNn5",circle:"SitePickerBadge-circle-34rFi"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/index.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var v=a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js");var b=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSummariesStore.js");var n=a("./src/main/webapp/universal/src/shared/utils/appDomainUtils.js"),h=n.getAppDomain;var g=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js");var A=a("./src/main/webapp/frontend/packages/enums/MemberAccountGuild.js");var s=a("./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts"),R=s.getBadgeDisplayName,j=s.getInitials;var o=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.jsx");var i=r({getStores:function e(){return[v,g,b]},getPropsFromStores:function e(){var t=v.getState().toJS(),a=t.avatarAssetUrl,r=t.displayName,n=t.guilds,s=t.email,o=t.id,i=t.firstName,c=t.lastName;var l=g.getState();var p=l.get("identifier");var u=l.get("websiteType");var m=h();var d=b.getWebsiteSummaries();var f=n&&n[A.CIRCLE_USER];return{avatarAssetUrl:a,memberAccountId:o,displayName:R(r),initials:j(i,c,s),isCircle:f,email:s,currentWebsiteIdentifier:p,currentWebsiteType:u,appDomain:m,items:d,hasItemsLoaded:!!d}}},o);e.exports=i},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/components/ProductCollectionMigrationCard.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a("./common/temp/node_modules/react/index.js"));var s=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var o=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var i=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var c=r(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var p=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackNestedCategory.ts");var u=r(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useTrackView.js"));var m=function e(t){var a=t.handleDismissCard;(0,u.default)(p.trackUserViewsNestedCategoriesCard);return n.default.createElement(o.Card,{elevation:0,mt:4},n.default.createElement(o.Card.Body,null,n.default.createElement(i.Flex,{justifyContent:"space-between"},n.default.createElement(i.Text.Subtitle,{my:0},(0,l.t)("We’ve Improved Products")),n.default.createElement(i.Touchable,{onClick:function e(){(0,p.trackUserClosesNestedCategoriesCard)();a()}},n.default.createElement(s.CrossLarge,null))),n.default.createElement(i.Text.Body,{color:"gray.400"},(0,l.t)("Upgrade your product pages with powerful categories, better SEO, and much more.")),n.default.createElement(i.Button.Tertiary,{onClick:function e(){(0,p.trackUserClicksNestedCategoriesCard)();c.default.openNestedCategoriesMigrationModal()}},(0,l.t)("Start upgrade"))))};var d=m;t.default=d;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/index.jsx":function(e,t,a){"use strict";var r=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.jsx");e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.less":function(e,t,a){e.exports={avatar:"AccountBadge-avatar-1Py9e",circle:"AccountBadge-circle-1EMuy"}},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.tsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var m=r(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var n=r(a("./common/temp/node_modules/prop-types/index.js"));var d=r(a("./common/temp/node_modules/react/index.js"));var s=r(a("./src/main/webapp/frontend/packages/enums/StatusConstants.js"));var o=r(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var f=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var v=r(a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx"));var b=r(a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx"));var h=r(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.less"));var g=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var i=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");function A(){var e=window.Static.SQUARESPACE_CONTEXT,t=e.impersonatedSession,a=e.website;if(t)return true;if(a.siteStatus.value===s.default.INTERNAL&&!i.legacyV6Flags.isFeatureEnabled(o.default.REVEAL_USER_INFORMATION))return true;return false}function c(e){var t=e.onAvatarClick,a=e.avatarAssetUrl,r=e.displayName,n=e.isCircle,s=e.initials,o=e.email,i=(0,m.default)(e,["onAvatarClick","avatarAssetUrl","displayName","isCircle","initials","email"]);var c=o;var l=r;if(A()){c="support@squarespace.com";l=(0,g.t)("Squarespace Support")}var p=function e(t){return d.default.createElement(f.Text.Body,(0,u.default)({my:0,fontSize:2,lineHeight:1,overflow:"hidden",sx:{textOverflow:"ellipsis"}},t))};return d.default.createElement(f.Flex,(0,u.default)({alignItems:"center"},i),d.default.createElement(f.Box,{mr:3,position:"relative"},d.default.createElement(v.default,{className:h.default.avatar,initials:s,avatarUrl:a,onClick:t}),n&&d.default.createElement(b.default,{className:h.default.circle})),d.default.createElement(f.Touchable,{onClick:t,interaction:f.Touchable.WithoutFeedback},d.default.createElement(f.Flex,{flexDirection:"column",alignItems:"flex-start",overflow:"hidden",sx:{whiteSpace:"nowrap"}},d.default.createElement(p,{fontWeight:"medium"},l),d.default.createElement(p,{fontWeight:"book",color:"gray.300"},c))))}c.propTypes={onAvatarClick:n.default.func,displayName:n.default.string.isRequired,initials:n.default.string,email:n.default.string,isCircle:n.default.bool,avatarAssetUrl:n.default.string};var l=c;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/index.ts":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var l=r(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var p=r(a("./src/main/webapp/frontend/packages/enums/MemberAccountGuild.js"));var u=a("./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts");var s=r(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.tsx"));var o=(0,n.default)({getStores:function e(){return[l.default]},onAvatarClick:function e(){window.location.href=u.accountDashboardUrl},getPropsFromStores:function e(){var t=l.default.getState().toJS(),a=t.displayName,r=t.guilds,n=t.firstName,s=t.lastName,o=t.email,i=t.avatarAssetUrl;var c=r&&r[p.default.CIRCLE_USER];return{displayName:(0,u.getBadgeDisplayName)(a),initials:(0,u.getInitials)(n,s,o),isCircle:c,avatarAssetUrl:i,onAvatarClick:this.onAvatarClick.bind(this),email:o}}},s.default);t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(n){var s=d();return function e(){var t=(0,p.default)(n),a;if(s){var r=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var n=a("./common/temp/node_modules/prop-types/index.js");var A=a("./common/temp/node_modules/react/index.js");var f=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),R=f.t;var v=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),j=v.T;var C=a("./src/main/webapp/universal/src/shared/stores/AccessPermissionStore.js");var b=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js");var y=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx");var w=a("./src/main/webapp/universal/src/shared/components/WebsiteList/index.jsx");var h=a("./src/main/webapp/frontend/packages/universal-ui/cjs/index.js"),g=h.Alert,N=h.Confirmation,x=h.Modal;var _=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/index.jsx");var E=a("./common/temp/node_modules/@sqs/fields/lib/index.js"),S=E.Search;var k=a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx");var I=a("./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.less");var D=function(e){(0,i.default)(n,e);var r=m(n);function n(){var i;(0,s.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=r.call.apply(r,[this].concat(t));(0,u.default)((0,c.default)(i),"state",{searchString:"",filteredItems:i.props.items||[]});(0,u.default)((0,c.default)(i),"getOnItemSelect",function(){var e=i.props.onItemSelect;if(e)return e;return i.handleSelect});(0,u.default)((0,c.default)(i),"doSearch",function(e){i.setState({searchString:e});b.filter(e)});(0,u.default)((0,c.default)(i),"handleSelect",function(e,t){if(t){var a=i.props.onRequestClose;a&&a();return}window.open("https://".concat(e.identifier,".").concat(i.props.appDomain,"/config"),"_blank")});(0,u.default)((0,c.default)(i),"handleDelete",function(e){i.setState({isConfirmationOpen:true,itemInDeletion:e})});(0,u.default)((0,c.default)(i),"onDeleteConfirm",function(){var e=i.state.itemInDeletion;b.delete(e.id);i.setState({isConfirmationOpen:false,itemInDeletion:null})});(0,u.default)((0,c.default)(i),"onDeleteCancel",function(){i.setState({isConfirmationOpen:false,itemInDeletion:null})});(0,u.default)((0,c.default)(i),"handleRemoveAccess",function(e){i.setState({isConfirmationOpen:true,itemInAccessRemoval:e})});(0,u.default)((0,c.default)(i),"onRemoveAccessConfirm",function(){var e=i.state.itemInAccessRemoval;b.removeAccess(e.id);i.setState({isConfirmationOpen:false,itemInAccessRemoval:null})});(0,u.default)((0,c.default)(i),"onRemoveAccessCancel",function(){i.setState({isConfirmationOpen:false,itemInAccessRemoval:null})});(0,u.default)((0,c.default)(i),"onCreateSite",function(){var e=i.props,t=e.currentWebsiteIdentifier,a=e.appDomain;window.open("https://www.".concat(a,"/websites?source=").concat(t,"&channel=account-picker"))});(0,u.default)((0,c.default)(i),"onGoToAdmin",function(){var e=i.props,t=e.currentWebsiteIdentifier,a=e.appDomain;var r=(true,"customersupport");window.open("https://".concat(r,".").concat(a,"/squarespace-admin/support/site/").concat(t))});(0,u.default)((0,c.default)(i),"renderConfirmation",function(){var e=i.state,t=e.itemInAccessRemoval,a=e.itemInDeletion,r=e.isConfirmationOpen;if(!t&&!a)return false;if(t)return A.createElement(N,{isOpen:r,title:R("Remove Site Access"),onConfirm:i.onRemoveAccessConfirm,onCancel:i.onRemoveAccessCancel},A.createElement(j,{project:"apps.App"},"Are you sure you want to remove yourself from this site? Please note that the site owner and other site administrators will continue to have access to the site."));if(a)return A.createElement(g,{isOpen:r,title:R("Deactivate Site"),dismissText:R("Okay!"),onDismiss:i.onDeleteCancel},A.createElement(j,{siteManagerLink:A.createElement("a",{target:"_blank",href:"".concat(a.url,"/config/settings/billing/billing")},A.createElement(j,{project:"apps.App"},"site manager")),project:"apps.App"},"Please delete this site via the {siteManagerLink}."));return null});(0,u.default)((0,c.default)(i),"renderAlert",function(){var e=i.state,t=e.removeAccessFailure,a=e.deleteFailure,r=e.errorMessage,n=e.isAlertOpen;if(!t&&!a)return false;var s="";var o="";if(a){s=R("Error Removing Site");o=r||R("Failed to remove site")}else if(t){s=R("Error Removing Access");o=r||R("There was an error removing access")}return A.createElement(g,{isOpen:n,onDismiss:i.onAlertDismiss,title:s},o)});return i}(0,o.default)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var a=t.isOpen,r=t.items;this.setState({filteredItems:r||[]})}},{key:"render",value:function e(){var t=this.props,a=t.memberAccountId,r=t.name,n=t.isCircle,s=t.avatarAssetUrl,o=t.onRequestClose,i=t.onLogout,c=t.isOpen,l=t.hasItemsLoaded,p=t.currentWebsiteIdentifier,u=t.onItemSelect,m=t.addIndicator,d=t.appDomain,f=t.initials;var v=this.state,b=v.searchString,h=v.filteredItems;var g=m&&{label:R("Create new site"),onClick:this.onCreateSite};return A.createElement(x,{anchor:"window",isOpen:c,width:"100%",height:"100%",className:I.modal,overlayClassName:I.overlay,onRequestClose:o},A.createElement(x.Header,{className:I.header},A.createElement("div",{className:I.profile},A.createElement("div",{className:I.profileWrapper},A.createElement(y,{className:I.avatar,initials:f,avatarUrl:s}),A.createElement("div",{className:I.right},A.createElement("div",{className:I.profileInfo},A.createElement("span",{className:I.name},r)),A.createElement("div",{className:I.actionsContainer},n&&A.createElement(k,{className:I.circle}),C.isAdmin()&&A.createElement("div",{className:I.admin},A.createElement("div",{onClick:this.onGoToAdmin},A.createElement("a",null,A.createElement(j,{project:"apps.App"},"Admin"))),A.createElement("span",null,"      ")),A.createElement("div",{className:I.editProfile},A.createElement(_,{authorId:a,currentUserId:a})),A.createElement("span",null,"      "),A.createElement("div",{className:I.logout,onClick:i},A.createElement("a",null,A.createElement(j,{project:"apps.App"},"Logout"))))))),A.createElement("div",{className:I.search},A.createElement(S,{onChange:this.doSearch,value:b,placeholder:R("Search sites and domains")})),A.createElement("div",{className:I.closeWrapper},A.createElement("div",{className:I.closeButton,onClick:o}))),A.createElement(x.Body,{className:I.body,ref:"modalBody"},l&&A.createElement(w,{memberAccountId:a,items:h,deleteEnabled:true,onItemSelect:u||this.handleSelect,onItemDelete:this.handleDelete,onItemRemoveAccess:this.handleRemoveAccess,currentWebsiteIdentifier:p,appDomain:d,addIndicator:g}),this.renderConfirmation(),this.renderAlert()))}}]);return n}(A.Component);(0,u.default)(D,"propTypes",{isOpen:n.bool,onRequestClose:n.func,onLogout:n.func,memberAccountId:n.string.isRequired,name:n.string.isRequired,isCircle:n.bool,avatarAssetUrl:n.string,currentWebsiteIdentifier:n.string,items:n.array,hasItemsLoaded:n.bool,onItemSelect:n.func,appDomain:n.string,addIndicator:n.bool,initials:n.string.isRequired});e.exports=D},"./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.less":function(e,t,a){e.exports={overlay:"AccountModal-overlay-gBYHh accountModal-overlay-3u3bt",modal:"AccountModal-modal-3PxRM accountModal-modal-2okme animations-riseandfadein-2LEqu",profile:"AccountModal-profile-8GT9z",search:"AccountModal-search-4KnRe",header:"AccountModal-header-1ZlRK",body:"AccountModal-body-f3BUK",profileWrapper:"AccountModal-profileWrapper-1SWni",avatar:"AccountModal-avatar-1l1ui",right:"AccountModal-right-IMjsd",profileInfo:"AccountModal-profileInfo-38w1O",name:"AccountModal-name-6FPe1",email:"AccountModal-email-3G1rF",actionsContainer:"AccountModal-actionsContainer-17I2V",circle:"AccountModal-circle-nISHa",admin:"AccountModal-admin-1fxem",editProfile:"AccountModal-editProfile-39doM",logout:"AccountModal-logout-14ajY",closeWrapper:"AccountModal-closeWrapper-1PCe3 accountModal-closeWrapper-2wtdk",closeButton:"AccountModal-closeButton-3Ehy7 accountModal-closeButton-BD1Ls icons-clear-3iHX5"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var c=a("./common/temp/node_modules/classnames/index.js");var n=a("./common/temp/node_modules/prop-types/index.js");var l=a("./common/temp/node_modules/react/index.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.less");function s(e){var t=e.initials,a=e.avatarUrl,r=e.className,n=e.onClick;var s=null;a&&(s={backgroundImage:"url(".concat(a,")")});var o=c(p.container,r,(0,i.default)({},p.clickable,n));return l.createElement("div",{className:o,style:s,onClick:n},!a&&t)}s.propTypes={initials:n.string.isRequired,avatarUrl:n.string,className:n.string,onClick:n.func};e.exports=s},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.less":function(e,t,a){e.exports={container:"ProfileAvatar-container-OoMLJ",clickable:"ProfileAvatar-clickable-2ldL_"}},"./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getInitials=t.getBadgeDisplayName=t.accountDashboardUrl=void 0;var r=a("./src/main/webapp/universal/src/shared/utils/appDomainUtils.js");var n=function e(){var t=(0,r.getAppDomain)();return"https://account.".concat(t)};var s=n();t.accountDashboardUrl=s;var o=function e(t){var a;if((null===(a=t)||void 0===a?void 0:a.length)>1&&"Your Name"!==t){var r=t.split(" ");var n=r[1]?" "+r[1]:"";t=r[0]+n}return t};t.getBadgeDisplayName=o;var i=function e(t,a,r){var n="";t&&(n+=t[0]);a&&(n+=a[0]);!n&&r&&(n=r[0]);return n};t.getInitials=i}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/55-eddb55fc9247bf35a730c-min.en-US.js.map