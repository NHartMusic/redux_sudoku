(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["frame-toolbar-desktop"],{"./src/main/webapp/universal/src/apps/App/shared/actions/CollectionAndItemCatalogTaxonomyActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var s=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var l=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/CatalogTaxonomyAPI.js"));var i=s.default.createActions(function(){function e(){(0,r.default)(this,e);this.generateActions("loadCategoriesSuccess","saveCategorySuccess","removeCategorySuccess")}(0,o.default)(e,[{key:"loadCategories",value:function e(t,a){var n=this;var r=a?l.default.loadItemCategories(t,a):l.default.loadPageCategories(t);return r.then(function(e){var t=e.data;return n.loadCategoriesSuccess({taxonomyCategories:t})})}},{key:"saveCategory",value:function e(t,a,n){var r=this;var o=a?l.default.saveItemCategory(t,a,n):l.default.savePageCategory(t,n);return o.then(function(e){var t=e.data;return r.saveCategorySuccess(t)})}},{key:"removeCategory",value:function e(t,a,n){var r=this;var o=a?l.default.removeItemCategory(t,a,n):l.default.removePageCategory(t,n);return o.then(function(){return r.removeCategorySuccess({collectionId:t,itemId:a,categoryId:n})})}}]);return e}());t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/actions/PageAdminActions.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var s=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var l=a("./src/main/webapp/universal/src/apps/App/shared/utils/PageCatalogAPI.js");var i=a("./src/main/webapp/universal/src/apps/App/shared/utils/ItemCatalogAPI.js");var u=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/ContentCollectionActions.js"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/ContentItemActions.js"));var c=function(){function e(){(0,r.default)(this,e);this.generateActions("open","close")}(0,o.default)(e,[{key:"setPageIsAvailableInCatalog",value:function e(t,a){return(0,l.setIsPageAvailableInCatalog)(t,a).then(function(){return u.default.read(t)})}},{key:"setItemIsAvailableInCatalog",value:function e(t,a){return(0,i.setIsItemAvailableInCatalog)(t,a).then(function(){return d.default.read(t)})}}]);return e}();var p=s.default.createActions(c);t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.jsx":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=n(a("./common/temp/node_modules/classnames/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var f=n(a("./common/temp/node_modules/react/index.js"));var v=n(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var b=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var h=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var g=n(a("./src/main/webapp/frontend/packages/enums/AccessPermissions.js"));var E=n(a("./src/main/webapp/universal/src/shared/stores/AccessPermissionStore.js"));var w=n(a("./src/main/webapp/universal/src/shared/constants/DeviceViewType.js"));var o=n(a("./src/main/webapp/universal/src/apps/App/shared/constants/SectionsArea.js"));var y=n(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var T=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var C=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.js"));var S=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.js"));var j=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarDeviceViewButton.js"));var _=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarExpandButton.js"));var D=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSiteStylesButton.js"));var k=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSectionAdminButton.js"));var x=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSettingsButton.js"));var A=a("./src/main/webapp/universal/src/apps/App/shared/components/UndoStack/reduxUndoStack/UndoRedoControls.js");var P=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function I(r){var o=M();return function e(){var t=(0,c.default)(r),a;if(o){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,d.default)(this,a)}}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var O=function(e){(0,u.default)(o,e);var r=I(o);function o(){var e;(0,s.default)(this,o);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e=r.call.apply(r,[this].concat(a));(0,p.default)((0,i.default)(e),"handleClickTitle",function(){if(!e.props.isEditing)return;e.context.handleEditSettings()});return e}(0,l.default)(o,[{key:"renderToolbarLeft",value:function e(){var t=this.props,a=t.item,n=t.itemId,r=t.collection,o=t.isDirty,s=t.isEditing,l=t.isExpanded,i=t.isReady,u=t.itemAddText,d=t.isSaving,c=t.isSiteExpired,p=t.isSiteStylesEditing,m=t.shouldHideEditButton;if(c)return null;return f.default.createElement(C.default,{itemAddText:u,item:a,itemId:n,collection:r,isDirty:o,isEditing:s,isSiteStylesEditing:p,isExpanded:l,isReady:i,isSaving:d,shouldHideEditButton:m})}},{key:"renderCenter",value:function e(){var t=this.props,a=t.isEditing,n=t.pageTitle,r=t.isReady,o=t.isHeaderEditing,s=t.isFooterEditing,l=t.collection,i=t.item,u=t.itemId,d=t.isDirty,c=t.isExpanded,p=t.isSaving;return f.default.createElement(T.default.Title,{className:P.default.toolbarTitle},f.default.createElement(S.default,{isEditing:a,pageTitle:n,isExpanded:c,isReady:r,isHeaderEditing:o,isFooterEditing:s,collection:l,item:i,itemId:u,isDirty:d,onClick:this.handleClickTitle,isSaving:p}))}},{key:"renderRightmostButton",value:function e(){var t=this.props,a=t.isEditing,n=t.isSiteStylesEditing,r=t.shouldHidePreviewButton;var o=E.default.hasPermission(g.default.CONFIG_SETTINGS_TEMPLATE);if(b.legacyV6Flags.isFeatureEnabled(v.default.SEVEN_ONE_CONTEXTUAL_STYLE_EDITING_V1)&&o)return a||n?f.default.createElement(D.default,{isEditing:a,isSiteStylesEditing:n}):r?null:f.default.createElement(_.default,null);return f.default.createElement(f.default.Fragment,null,f.default.createElement(x.default,null),r?null:f.default.createElement(_.default,null))}},{key:"render",value:function e(){var t;var a=this.props,n=a.className,r=a.isEditing,o=a.isHidden,s=a.isSiteStylesEditing,l=a.deviceView;return f.default.createElement("div",{className:(0,m.default)(P.default.toolbar,n,(t={},(0,p.default)(t,P.default.isExpanded,r),(0,p.default)(t,P.default.isMobile,l!==w.default.DESKTOP),(0,p.default)(t,P.default.hidden,o),t))},f.default.createElement(T.default,null,f.default.createElement(T.default.Left,null,this.renderToolbarLeft()),f.default.createElement(T.default.Center,null,this.renderCenter()),f.default.createElement(T.default.Right,null,f.default.createElement(k.default,null),f.default.createElement(j.default,null),b.legacyV6Flags.isFeatureEnabled(v.default.UNDO_REDO_71)&&(r||s)&&f.default.createElement(h.Box,null,f.default.createElement(A.FrameToolbarUndoRedoControls,null)),this.renderRightmostButton())))}}]);return o}(f.default.Component);t.default=O;(0,p.default)(O,"propTypes",{isExpanded:r.default.bool,isHidden:r.default.bool,isEditing:r.default.bool,isEditModeDisabled:r.default.bool,isDirty:r.default.bool,isReady:r.default.bool,sectionsArea:r.default.oneOf(Object.values(o.default)).isRequired,pageTitle:r.default.string,deviceView:r.default.oneOf(Object.values(w.default)),shouldHideEditButton:r.default.bool.isRequired,shouldHidePreviewButton:r.default.bool.isRequired});(0,p.default)(O,"contextType",y.default);e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less":function(e,t,a){e.exports={toolbar:"FrameToolbar-desktop-toolbar-aFqnh",toolbarTitle:"FrameToolbar-desktop-toolbarTitle-G5Fuq",adminButton:"FrameToolbar-desktop-adminButton-2YNEi",hidden:"FrameToolbar-desktop-hidden-2bRZ7",buttonSelected:"FrameToolbar-desktop-buttonSelected-2TfRz",expandIcon:"FrameToolbar-desktop-expandIcon-2YPEu"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/regenerator/index.js"));var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var f=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var v=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var b=n(a("./common/temp/node_modules/classnames/index.js"));var h=n(a("./common/temp/node_modules/prop-types/index.js"));var g=n(a("./common/temp/node_modules/react/index.js"));var E=n(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var w=n(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var y=n(a("./common/temp/node_modules/@sqs/core-components/modals/ConfirmModal.js"));var T=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var C=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");var S=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var j=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var _=n(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var D=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.js"));var k=n(a("./src/main/webapp/universal/src/apps/ConfigWebsite/SevenOneLifecycleProvider/LifecycleActionType.js"));var x=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/campaigns/BlogToEmailActions.js"));var A=n(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var P=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7EventsCollectionHelpers.js"));var I=a("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var M=a("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var O=a("./src/main/webapp/universal/src/shared/utils/ProductsUtils.js");var R=a("./src/main/webapp/universal/src/shared/constants/CMSPerformanceEvents.ts");var F=a("./src/main/webapp/universal/src/shared/lightstep/utils.ts");var B=n(a("./src/main/webapp/universal/src/shared/stores/TweakStore.js"));var q=a("./src/main/webapp/universal/src/shared/utils/Tweaks/TweakAnalytics.js");var L=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Inventory/screens/components/EditProductModal/ProductDialogActions.ts"));var N=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.less"));function V(r){var o=U();return function e(){var t=(0,p.default)(r),a;if(o){var n=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,c.default)(this,a)}}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var H={x:220,y:110};var W=function(e){(0,u.default)(a,e);var t=V(a);(0,i.default)(a,null,[{key:"getStores",value:function e(){return[w.default]}},{key:"getPropsFromStores",value:function e(){var t=w.default.isTutorialCompleted("CAMPAIGNS_BLOG_TO_EMAIL_MODAL");return{isCampaignsBlogToEmailTutorialCompleted:t}}}]);function a(e){var u;(0,r.default)(this,a);u=t.call(this,e);(0,m.default)((0,l.default)(u),"handleDiscard",function(){u.fireClickMenuItemInDoneMenu("discard-open");u.setState({isDiscardConfirmOpen:true})});(0,m.default)((0,l.default)(u),"handleCancel",function(){var e;u.fireClickMenuItemInDoneMenu("cancel");u.context.doDiscardChangesAndExitEditMode(null===(e=u.props.item)||void 0===e?void 0:e.fullUrl)});(0,m.default)((0,l.default)(u),"closeDiscardConfirm",function(){u.fireClickMenuItemInDoneMenu("discard-close");u.setState({isDiscardConfirmOpen:false})});(0,m.default)((0,l.default)(u),"handleDiscardSubmit",function(){var e;u.fireClickMenuItemInDoneMenu("discard");u.setState({isDiscardConfirmOpen:false});u.context.doDiscardChangesAndExitEditMode(null===(e=u.props.item)||void 0===e?void 0:e.fullUrl)});(0,m.default)((0,l.default)(u),"handleSave",(0,s.default)(d.default.mark(function e(){var a,n,r,o;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("save");t.prev=1;a=u.context.getIframeWindow().Static.SQUARESPACE_CONTEXT,n=a.collectionId,r=a.itemId;o=(0,M.getEditCount)(I.cmsStore.getState());t.next=6;return(0,F.traceWith)(R.PAGE_EDIT_SAVE,(0,s.default)(d.default.mark(function e(){var a,n,r,o,s,l,i;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:a=u.props,n=a.collection,r=a.item;if(A.default.isProducts(n)){o=r?"item":"collection";s=B.default.getState(),l=s.tweakValuesSaved,i=s.tweakValuesCurrent;(0,q.fireProductSaveTweakEvents)({tweakValuesSaved:l,tweakValuesCurrent:i,indirectObjectType:o})}t.next=4;return u.context.doSaveChangesAndExitEditMode();case 4:case"end":return t.stop()}},e)})),{spanOptions:{attributes:{collectionId:n,itemId:r}},onTraceComplete:function e(t){P.default.userSavesEditingSession({collectionId:n,itemId:r,measurement:t,editCount:o})}});case 6:t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](1);u.setState({isSaveError:true});case 11:case"end":return t.stop()}},e,null,[[1,8]])})));(0,m.default)((0,l.default)(u),"handlePublish",(0,s.default)(d.default.mark(function e(){var a,n,r;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("publish");t.prev=1;t.next=4;return u.context.doSaveChangesAndExitEditMode({publish:true});case 4:a=u.props,n=a.item,r=a.isCampaignsBlogToEmailTutorialCompleted;A.default.isBlogPost(n)&&!r&&x.default.showDraftCreationModal({id:n.id,collectionId:n.collectionId,postUrl:n.fullUrl});t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](1);u.setState({isSaveError:true});case 11:case"end":return t.stop()}},e,null,[[1,8]])})));(0,m.default)((0,l.default)(u),"handleEditSchedule",function(){u.fireClickMenuItemInDoneMenu("schedule-open");u.setState({isSchedulerModalOpen:true})});(0,m.default)((0,l.default)(u),"closeSchedulerModal",function(){u.fireClickMenuItemInDoneMenu("schedule-close");u.setState({isSchedulerModalOpen:false})});(0,m.default)((0,l.default)(u),"handleEditScheduleSubmit",function(){var t=(0,s.default)(d.default.mark(function e(a){return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("schedule");u.setState({isSchedulerModalOpen:false},function(){try{u.context.doSaveChangesAndExitEditMode({scheduleOn:a})}catch(e){u.setState({isSaveError:true})}});case 2:case"end":return t.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());(0,m.default)((0,l.default)(u),"handleOldToolbarSaveClick",function(){u.fireClickMenuItemInDoneMenu("save");u.context.handleOldToolbarSaveClick()});(0,m.default)((0,l.default)(u),"handleDismissSaveError",function(){u.setState({isSaveError:false})});(0,m.default)((0,l.default)(u),"handleEditProduct",function(){var e=u.props.itemId;L.default.commerceOpenCreateProductDialog({productId:e})});u.doneMenuRef=g.default.createRef();u.state={isSchedulerModalOpen:false,isDiscardConfirmOpen:false,isSaveError:false};u.hasFiredProductEditModeAssignmentEvent=false;return u}(0,i.default)(a,[{key:"fireClickMenuItemInDoneMenu",value:function e(t){var a=this.props,n=a.collection,r=a.itemId;P.default.clickMenuItemInDoneMenu({button:t,collectionId:n.id,itemId:r,editCount:(0,M.getEditCount)(I.cmsStore.getState())})}},{key:"isItemEditMode",value:function e(){return this.props.itemId}},{key:"isStoreItem",value:function e(){return A.default.isProductItem(this.props.item)}},{key:"shouldShowEditProductDropdown",value:function e(){return this.isStoreItem()&&(0,O.isEditModeV1Enabled)()&&!(0,O.isEditModeV2Enabled)()}},{key:"renderNewDoneMenu",value:function e(){var i=this;var t=this.props.isSaving;var a=this.context.getButtons();if(t)return g.default.createElement("div",{className:N.default.doneMenuParentContainer,ref:this.doneMenuRef},this.renderSpinner());var n=0===a.length;var r={};n&&(r={onClick:function e(){return i.handleCancel()}});return g.default.createElement("div",{className:(0,b.default)(N.default.doneMenuParentContainer,(0,m.default)({},N.default.showDoneMenuParentContainer,!n)),ref:this.doneMenuRef},g.default.createElement(T.default.Button,(0,o.default)({label:(0,f.t)("Done"),inverted:false,isDisabled:false,className:(0,b.default)(N.default.editButton,N.default.doneButton,(0,m.default)({},N.default.doneButtonWithChevron,!n)),htmlAttributes:{"data-test":"frameToolbarDone"}},r)),g.default.createElement("div",{className:(0,b.default)(N.default.doneMenuWrapper)},a.map(function(e,t){var a;var n=e.style,r=e.label,o=e.action;var s=null;var l="";if(o===k.default.DISCARD){s=i.handleDiscard;l="frameToolbarDiscard"}else if(o===k.default.SAVE){s=i.handleSave;l="frameToolbarSave"}else if(o===k.default.PUBLISH)s=i.handlePublish;else if(o===k.default.EDIT_SCHEDULE)s=i.handleEditSchedule;else if(o===k.default.CANCEL){s=i.handleCancel;l="frameToolbarCancel"}return g.default.createElement("button",{key:"".concat(r,"-").concat(t),className:(0,b.default)(N.default.doneMenuItem,(a={},(0,m.default)(a,N.default.doneMenuItemCancel,"cancel"===n),(0,m.default)(a,N.default.doneMenuItemBold,"bold"===n),a)),onClick:s,"data-test":l},r)})))}},{key:"renderSpinner",value:function e(){return g.default.createElement("div",{className:N.default.loadingIndicator},g.default.createElement(j.ActivityIndicator,{size:"small"}))}},{key:"renderEditButton",value:function e(){var t=this.props,a=t.itemId,n=t.itemAddText;var r=(0,f.t)("Edit");a&&n&&(r=n);var o=(0,O.isEditModeV2Enabled)()?this.context.enterItemEditingMode:this.context.handleEdit;return g.default.createElement(T.default.Button,{className:N.default.editButton,label:r,onClick:o,inverted:false,htmlAttributes:{"data-test":"frameToolbarEdit"}})}},{key:"renderEditDesignButton",value:function e(){var t=(0,O.isEditModeV2Enabled)()?this.context.handleEdit:this.context.handleEditDesign;return g.default.createElement(T.default.Button,{className:N.default.editButton,label:(0,f.t)("Edit Design"),inverted:false,onClick:t})}},{key:"renderEditProductDropdown",value:function e(){return g.default.createElement("div",{className:(0,b.default)(N.default.doneMenuParentContainer,N.default.showDoneMenuParentContainer),ref:this.doneMenuRef},g.default.createElement(T.default.Button,{label:(0,f.t)("Edit"),inverted:false,isDisabled:false,className:(0,b.default)(N.default.editButton,N.default.doneButton,N.default.doneButtonWithChevron),htmlAttributes:{"data-test":"frameToolbarEditProductDropdown"}}),g.default.createElement("div",{className:(0,b.default)(N.default.doneMenuWrapper,N.default.productDropdown)},g.default.createElement(S.Touchable,{css:{textAlign:"left",margin:"0 !important"},onClick:this.handleEditProduct,interaction:function e(t){return g.default.createElement(S.Touchable.Solid,(0,o.default)({},t,{display:"block"}))}},g.default.createElement(S.Text.Action,{px:4,py:2,display:"block","data-test":"frameToolbarEditProduct"},g.default.createElement(v.T,{project:"src.seven-one"},"Edit Product"))),g.default.createElement(S.Touchable,{css:{textAlign:"left",margin:"0 !important"},onClick:this.context.handleEdit,interaction:function e(t){return g.default.createElement(S.Touchable.Solid,(0,o.default)({},t,{display:"block"}))}},g.default.createElement(S.Text.Action,{px:4,py:2,display:"block","data-test":"frameToolbarEditProductDesign"},g.default.createElement(v.T,{project:"src.seven-one"},"Edit Design")))))}},{key:"renderToolbarLeft",value:function e(){var t=this.props,a=t.isDirty,n=t.isEditing,r=t.isExpanded,o=t.isReady,s=t.isSiteStylesEditing,l=t.shouldHideEditButton;if(l)return null;if(n&&a||s)return this.renderNewDoneMenu();if(n){if(!o||!r)return this.renderSpinner();return this.renderNewDoneMenu()}if(this.shouldShowEditProductDropdown())return this.renderEditProductDropdown();var i=this.isStoreItem()&&(!(0,O.isEditModeV1Enabled)()||(0,O.isEditModeV2Enabled)());return g.default.createElement(g.default.Fragment,null,this.renderEditButton(),i&&this.renderEditDesignButton())}},{key:"renderPageConfirmModal",value:function e(){return g.default.createElement(y.default,{isOpen:this.state.isDiscardConfirmOpen,cancelStyle:"default",confirmStyle:"default",onConfirm:this.handleDiscardSubmit,onDismiss:this.closeDiscardConfirm,onRequestClose:this.closeDiscardConfirm,message:(0,f.t)("Are you sure you want to discard your changes?"),confirmLabel:(0,f.t)("Discard"),confirmHtmlAttributes:{"data-test":"frameToolbarConfirmDiscard"},clientX:H.x,clientY:H.y})}},{key:"renderItemSchedulerModal",value:function e(){if(!this.isItemEditMode())return null;var t=this.props.item;if(!t)return null;return g.default.createElement(D.default,{key:"scheduler",isOpen:this.state.isSchedulerModalOpen,onSave:this.handleEditScheduleSubmit,onRequestClose:this.closeSchedulerModal,anchorRef:this.doneMenuRef,value:t.publishOn})}},{key:"renderSaveError",value:function e(){return g.default.createElement(j.Modal.Transition,null,this.state.isSaveError&&g.default.createElement(j.Modal,null,g.default.createElement(j.Modal.Position,{position:"center"},g.default.createElement(C.AlertDialog,{title:(0,f.t)("Couldn't Save Information"),message:(0,f.t)("Try reloading the page. If the problem persists, contact us."),buttons:[g.default.createElement(C.AlertDialog.Button,{onClick:this.handleDismissSaveError},g.default.createElement(v.T,{project:"src.seven-one"},"OK"))]}))))}},{key:"render",value:function e(){return g.default.createElement(g.default.Fragment,null,this.renderToolbarLeft(),this.renderPageConfirmModal(),this.renderItemSchedulerModal(),this.renderSaveError())}}]);return a}(g.default.Component);(0,m.default)(W,"propTypes",{isExpanded:h.default.bool,isHidden:h.default.bool,isEditing:h.default.bool,isEditModeDisabled:h.default.bool,isDirty:h.default.bool,isReady:h.default.bool,pageTitle:h.default.string,shouldHideEditButton:h.default.bool,isCampaignsBlogToEmailTutorialCompleted:h.default.bool});(0,m.default)(W,"contextType",_.default);var z=(0,E.default)(W);t.default=z;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.less":function(e,t,a){e.exports={editButton:"FrameDoneMenu-editButton-3VRcd",doneButton:"FrameDoneMenu-doneButton-1FXC_",doneButtonWithChevron:"FrameDoneMenu-doneButtonWithChevron-3Z6Cl",loadingIndicator:"FrameDoneMenu-loadingIndicator-dqDQk",doneMenuParentContainer:"FrameDoneMenu-doneMenuParentContainer-1riV1",doneMenuWrapper:"FrameDoneMenu-doneMenuWrapper-3yJZC",productDropdown:"FrameDoneMenu-productDropdown-X8IaD",showDoneMenuParentContainer:"FrameDoneMenu-showDoneMenuParentContainer-2IDDP",doneMenuItem:"FrameDoneMenu-doneMenuItem-1Jq00",doneMenuItemBold:"FrameDoneMenu-doneMenuItemBold-1Bwtd",doneMenuItemCancel:"FrameDoneMenu-doneMenuItemCancel-oRsR1"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarDeviceViewButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(a("./common/temp/node_modules/react/index.js"));var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=a("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var o=a("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var i=a("./src/main/webapp/universal/src/apps/App/shared/redux/actions/frameDisplayActions.js");var u=n(a("./src/main/webapp/universal/src/apps/App/components/SevenOneUserSurvey/flux/actions.js"));var d=n(a("./src/main/webapp/universal/src/shared/constants/DeviceViewType.js"));var c=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var p=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var m=n(a("./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js"));var f=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/phone.svg"));var v=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function b(e){var t=e.isSaving,a=e.onToggleDeviceView,n=e.deviceView;var r=n===d.default.DESKTOP?(0,l.t)("Mobile Preview"):(0,l.t)("Desktop View");var o=n===d.default.DESKTOP?void 0:v.default.buttonSelected;return s.default.createElement(m.default,{content:r},s.default.createElement(p.default.IconButton,{url:f.default,isDisabled:t,onClick:function e(){u.default.userTogglesDeviceView(n!==d.default.DESKTOP);a()},className:o}))}var h=(0,r.cmsStoreConnect)(function(e){return{deviceView:(0,o.getFrameDeviceView)(e)}},{onToggleDeviceView:i.toggleDeviceView})((0,c.default)(b));t.default=h;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarExpandButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.ExpandButton=c;t.default=void 0;var o=r(a("./common/temp/node_modules/react/index.js"));var s=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js"));var l=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var i=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var u=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/arrowup.svg"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function c(e){var t=e.isEditing;var a=(0,o.useCallback)(function(){return s.default.toggleExpanded()},[]);return!t&&o.default.createElement(i.default.IconButton,{url:u.default,onClick:a,iconClassName:d.default.expandIcon})}var p=(0,l.default)(c);t.default=p},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSectionAdminButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.SectionAdminButton=f;t.default=void 0;var s=r(a("./common/temp/node_modules/react/index.js"));var o=n(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var l=a("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var i=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var u=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/CollectionAndItemCatalogTaxonomyActions.js"));var d=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/PageAdminActions.js"));var c=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var p=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));var m=l.legacyV6Flags.isFeatureEnabled(o.default.SECTION_ADMIN);function f(e){var t=e.collectionId,a=e.isEditing,n=e.isSaving,r=e.itemId;var o=(0,s.useCallback)(function(){u.default.loadCategories(t,r);d.default.open()},[t,r]);return a&&m&&s.default.createElement(c.default.IconButton,{isDisabled:n,onClick:o},s.default.createElement("div",{className:p.default.adminButton}))}var v=(0,i.default)(f);t.default=v},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSettingsButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.SettingsButton=d;t.default=void 0;var o=r(a("./common/temp/node_modules/react/index.js"));var s=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var l=n(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var i=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var u=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/settings.svg"));function d(e){var t=e.isEditing,a=e.isSaving;var n=(0,o.useContext)(l.default),r=n.handleEditSettings;return t&&o.default.createElement(i.default.IconButton,{htmlAttributes:{"data-test":"frameToolbarSettings"},url:u.default,isDisabled:a,onClick:r})}var c=(0,s.default)(d);t.default=c},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSiteStylesButton.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=r(a("./common/temp/node_modules/react/index.js"));var i=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var o=n(a("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var u=n(a("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var d=n(a("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));function s(e){var t=e.isSaving,a=e.isSiteStylesEditing;var n=(0,l.useContext)(u.default),r=n.doEnterSiteStylesEditing,o=n.doExitSiteStylesEditing;var s=function e(t){t.stopPropagation();a?o():r()};return l.default.createElement(d.default.IconButton,{isActive:a,isDisabled:t,onClick:s,htmlAttributes:{"data-test":"frameToolbarSiteStyles"}},l.default.createElement(i.Style,null))}var c=(0,o.default)(s);t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=n(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var v=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var b=n(a("./common/temp/node_modules/classnames/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var h=n(a("./common/temp/node_modules/react/index.js"));var g=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var E=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var w=a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/utils/ToolbarTitleUtils.js");var y=n(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.less"));var T=n(a("./common/temp/node_modules/lodash/isString.js"));function p(r){var o=m();return function e(){var t=(0,c.default)(r),a;if(o){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,d.default)(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var o=/&amp;/g;function C(e){return e.replace(o,"&")}var f=function(e){(0,u.default)(o,e);var r=p(o);function o(){var n;(0,s.default)(this,o);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=r.call.apply(r,[this].concat(t));(0,v.default)((0,i.default)(n),"handleClick",function(){var e=n.props,t=e.onClick,a=e.isSaving;if(a)return;t&&t()});return n}(0,l.default)(o,[{key:"render",value:function e(){var t;var a=this.props,n=a.className,r=a.collection,o=a.item,s=a.isReady,l=a.itemId,i=a.isDirty,u=a.isEditing,d=a.isFooterEditing,c=a.isHeaderEditing,p=a.isSaving;if(u){if(d)return(0,g.t)("Editing Site Footer");if(c)return(0,g.t)("Editing Site Header")}if(!s)return null;if(!l&&!r)return null;if(l&&!o)return null;var m=null;m=l&&o?o.title:r.title;m=!m||(0,T.default)(m)&&0===m.trim().length?h.default.createElement("span",{className:y.default.noTitle},h.default.createElement(E.T,{project:"src.seven-one"},"No Title")):C(m);var f=(0,w.getSecondaryTitle)({collection:r,item:o,isSaving:p});return h.default.createElement("div",{className:(0,b.default)(y.default.toolbarTitleStacked,n,(t={},(0,v.default)(t,y.default.toolbarTitleDirty,!p&&i),(0,v.default)(t,y.default.toolbarTitleEditing,!p&&u),t)),onClick:this.handleClick},h.default.createElement("div",{"data-test":"frame-toolbar-title",className:y.default.toolbarStackedTitle},m),h.default.createElement("div",{className:y.default.toolbarStackedState},f))}}]);return o}(h.default.Component);t.default=f;(0,v.default)(f,"propTypes",{className:r.default.string,isEditing:r.default.bool,pageTitle:r.default.string,isDirty:r.default.bool,isReady:r.default.bool,isHeaderEditing:r.default.bool,isFooterEditing:r.default.bool,collection:r.default.object,item:r.default.object,itemId:r.default.string,onClick:r.default.func,isSaving:r.default.bool});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.less":function(e,t,a){e.exports={toolbarTitleStacked:"FrameToolbarTitle-toolbarTitleStacked-39q0B",toolbarTitleEditing:"FrameToolbarTitle-toolbarTitleEditing-zB8nb",toolbarTitleDirty:"FrameToolbarTitle-toolbarTitleDirty-3HhE8",toolbarStackedState:"FrameToolbarTitle-toolbarStackedState-9osot",toolbarStackedTitle:"FrameToolbarTitle-toolbarStackedTitle-2PNxd",noTitle:"FrameToolbarTitle-noTitle-qdtAD"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=n(a("./common/temp/node_modules/react/index.js"));var o=r(a("./common/temp/node_modules/prop-types/index.js"));var f=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var v=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var b=r(a("./common/temp/node_modules/@sqs/core-components/lib/web/DateTimeField.js"));var h=r(a("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.less"));var g=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var E=a("./src/main/webapp/universal/src/shared/i18n/react.ts");function w(r){var o=y();return function e(){var t=(0,c.default)(r),a;if(o){var n=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return(0,d.default)(this,a)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var T=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?"":(0,g.formatDateTime)(t,"LLLLT")};var C=864e5;var S=function(e){(0,u.default)(o,e);var r=w(o);function o(){var t;(0,s.default)(this,o);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];t=r.call.apply(r,[this].concat(a));(0,p.default)((0,i.default)(t),"state",{value:null,isOpen:false});(0,p.default)((0,i.default)(t),"handleDateChange",function(e){t.setState({value:e})});(0,p.default)((0,i.default)(t),"handleScheduleClick",function(){t.props.onSave(t.getValue());t.setState({isOpen:false,value:null})});(0,p.default)((0,i.default)(t),"handleCancelClick",function(){t.setState({isOpen:false,value:null});t.props.onRequestClose()});return t}(0,l.default)(o,[{key:"getValue",value:function e(){if(null!==this.state.value)return this.state.value;return this.props.value}},{key:"render",value:function e(){var t=this.props.onRequestClose;var a=this.state,n=a.isOpen,r=a.openTime;var o=this.getValue();return m.default.createElement(f.Modal.Transition,null,n&&m.default.createElement(f.Modal,{className:h.default.modal,onRequestClose:t},m.default.createElement(f.Modal.Position,{position:"center"},m.default.createElement(f.Modal.Dialog,null,m.default.createElement(v.Box,{p:2},m.default.createElement("div",{tabIndex:0,style:{outline:"none"}},m.default.createElement("div",{className:h.default.actionButtons},m.default.createElement(v.Button.Tertiary,{onClick:this.handleCancelClick},m.default.createElement(E.T,{project:"src.seven-one"},"Cancel")),m.default.createElement(v.Button.Tertiary,{onClick:this.handleScheduleClick},m.default.createElement(E.T,{project:"src.seven-one"},"Schedule"))),m.default.createElement("div",{className:h.default.titles},m.default.createElement(v.Text.Title,null,m.default.createElement(E.T,{project:"src.seven-one"},"Date & Time")),m.default.createElement(v.Text.Subtitle,null,T(o))),m.default.createElement(b.default,{className:h.default.dateTimeField,mode:"datetime",onChange:this.handleDateChange,value:o,disable:[{before:r-C}]})))))))}}],[{key:"getDerivedStateFromProps",value:function e(t,a){var n={};if(t.isOpen&&!a.isOpen){n.isOpen=true;n.openTime=Date.now()}!t.isOpen&&a.isOpen&&(n.isOpen=false);return n}}]);return o}(m.Component);t.default=S;(0,p.default)(S,"propTypes",{isOpen:o.default.bool,value:o.default.number,onSave:o.default.func,onRequestClose:o.default.func,anchorRef:o.default.object});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.less":function(e,t,a){e.exports={titles:"ItemScheduleModal-titles-36oUK",dateLabel:"ItemScheduleModal-dateLabel-3guBi",dateTimeField:"ItemScheduleModal-dateTimeField-45xf2",actionButtons:"ItemScheduleModal-actionButtons-4o48s"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/arrowup.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='16' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3 6l2-2h10v10l-2 2V7.414L1.707 18.707.293 17.293 11.586 6H3z' fill='%23313131'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/phone.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M14 1H8a3 3 0 00-3 3v14a3 3 0 003 3h6a3 3 0 003-3V4a3 3 0 00-3-3zM7 4a1 1 0 011-1h6a1 1 0 011 1v14a1 1 0 01-1 1H8a1 1 0 01-1-1V4zm7 12H8v2h6v-2z' fill='%23313131'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/settings.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='11' cy='11' r='6.5' stroke='%23313131' stroke-width='2'/%3E%3Cpath d='M11 1v3M11 18v3M1 11h3M18 11h3M3.929 3.929L6.05 6.05M15.95 15.95l2.121 2.121M3.929 18.071L6.05 15.95M15.95 6.05L18.07 3.93' stroke='%23313131' stroke-width='2'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/utils/ToolbarTitleUtils.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getSecondaryTitle=h;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var o=n(a("./common/temp/node_modules/react/index.js"));var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var l=n(a("./src/main/webapp/frontend/packages/enums/WorkflowStates.js"));var i=n(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var u,d,c,p;var m=[{test:function e(t){return i.default.isBlog(t)},labels:(u={},(0,r.default)(u,l.default.DRAFT,(0,s.t)("Draft")),(0,r.default)(u,l.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(u,l.default.PUBLISHED,(0,s.t)("Published")),(0,r.default)(u,l.default.SCHEDULED,(0,s.t)("Scheduled")),u),itemTypeLabel:(0,s.t)("Post")},{test:function e(t){return i.default.isPortfolio(t)},labels:(d={},(0,r.default)(d,l.default.DRAFT,(0,s.t)("Draft")),(0,r.default)(d,l.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(d,l.default.PUBLISHED,(0,s.t)("Published")),(0,r.default)(d,l.default.SCHEDULED,(0,s.t)("Scheduled")),d),itemTypeLabel:(0,s.t)("Project")},{test:function e(t){return i.default.isEvents(t)},labels:(c={},(0,r.default)(c,l.default.DRAFT,(0,s.t)("Draft")),(0,r.default)(c,l.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(c,l.default.PUBLISHED,(0,s.t)("Published")),(0,r.default)(c,l.default.SCHEDULED,(0,s.t)("Scheduled")),c),itemTypeLabel:(0,s.t)("Event")},{test:function e(t){return i.default.isProducts(t)},labels:(p={},(0,r.default)(p,l.default.DRAFT,(0,s.t)("Hidden")),(0,r.default)(p,l.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(p,l.default.PUBLISHED,(0,s.t)("Visible")),(0,r.default)(p,l.default.SCHEDULED,(0,s.t)("Scheduled")),p),itemTypeLabel:(0,s.t)("Product")}];var f=[{test:function e(t){return i.default.isBlog(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Blog")},{test:function e(t){return i.default.isPortfolio(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Portfolio")},{test:function e(t){return i.default.isEvents(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Events")},{test:function e(t){return i.default.isProducts(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Products")},{test:function e(t){return i.default.isPage(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Page")}];function v(e){var t=e.collection,a=e.item;if(!t)return null;var n=i.default.getCollection(t.id);if(!n)return null;var r=m.find(function(e){return e.test(n)});if(!r)return null;if(r.labels.hasOwnProperty(a.workflowState))return o.default.createElement("span",null,r.itemTypeLabel," · ",r.labels[a.workflowState]);return r.itemTypeLabel}function b(e){var t=i.default.getCollection(e.id);if(!t)return null;var a=f.find(function(e){return e.test(t)});if(!a)return null;var n=a.labels.published;e.enabled?e.passwordProtected&&(n=a.labels.passwordProtected):n=a.labels.disabled;return o.default.createElement("span",null,a.collectionTypeLabel," · ",n)}function h(e){var t=e.collection,a=e.item,n=e.isSaving;if(n)return(0,s.t)("Saving…");if(a)return v({collection:t,item:a});if(t)return b(t);return null}},"./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var d=r(a("./common/temp/node_modules/lodash/noop.js"));var c=n(a("./common/temp/node_modules/react/index.js"));var o=r(a("./common/temp/node_modules/prop-types/index.js"));var p=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var m=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var s=function e(t){var a=t.content,n=t.children;var r=(0,c.useState)(false),o=(0,u.default)(r,2),s=o[0],l=o[1];var i=(0,c.useRef)(null);(0,c.useEffect)(function(){var e=function e(){l(false)};var t=document.querySelector(".sqs-damask-panel-content");t&&t.addEventListener("scroll",e);return function(){t&&t.removeEventListener("scroll",e);e()}},[]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(p.Box,{ref:i,onMouseEnter:function e(){return l(true)},onFocus:function e(){return l(true)},onMouseLeave:function e(){return l(false)},onBlur:function e(){return l(false)}},n),a&&s&&i.current?c.default.createElement(m.Tooltip,{anchor:i.current,isOpen:s,position:"bottom",delay:{enter:120},onRequestClose:d.default},a):null)};s.propTypes={content:o.default.string};var l=s;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/UndoStack/reduxUndoStack/UndoRedoControls.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.ContextualStyleUndoRedoControls=t.FrameToolbarUndoRedoControls=void 0;var s=n(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var l=n(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var i=n(a("./common/temp/node_modules/react/index.js"));var r=n(a("./common/temp/node_modules/prop-types/index.js"));var u=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var d=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var c=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var o=a("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/redux/actions/cmsUndoStackActions.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var f=n(a("./src/main/webapp/universal/src/apps/App/shared/components/IconButton.jsx"));var v=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var b=function e(t){var a=t.canUndo,n=t.canRedo,r=t.onUndo,o=t.onRedo;return i.default.createElement(d.Flex,{justifyContent:"flex-end"},i.default.createElement(f.default,{"aria-label":(0,c.t)("Undo"),style:{margin:0,padding:0,opacity:a?1:.2},disabled:!a,onClick:r},i.default.createElement(u.Undo,null)),i.default.createElement(f.default,{"aria-label":(0,c.t)("Redo"),style:{margin:0,padding:0,opacity:n?1:.2},disabled:!n,onClick:o},i.default.createElement(u.Redo,null)))};b.propTypes={canUndo:r.default.bool,canRedo:r.default.bool,onUndo:r.default.func.isRequired,onRedo:r.default.func.isRequired};var h=(0,o.cmsStoreConnect)(function(e){return{canUndo:(0,m.getCanUndo)(e),canRedo:(0,m.getCanRedo)(e)}},{onUndo:p.undo,onRedo:p.redo});var g=h(b);t.FrameToolbarUndoRedoControls=g;var E=function e(t){var a=t.onUndo,n=t.onRedo,r=t.panel,o=(0,l.default)(t,["onUndo","onRedo","panel"]);return i.default.createElement(b,(0,s.default)({},o,{onUndo:function e(){v.default.userClickUndoCSE(r);a()},onRedo:function e(){v.default.userClickRedoCSE(r);n()}}))};var w=h(E);t.ContextualStyleUndoRedoControls=w},"./src/main/webapp/universal/src/apps/App/shared/redux/actions/cmsUndoStackActions.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.endUpdateGroup=t.redo=t.undo=void 0;var n=a("./common/temp/node_modules/@sqs/redux-undo/lib/index.js");var r=a("./common/temp/node_modules/@sqs/redux-tools/lib/index.js");var o=n.ActionCreators.undo;t.undo=o;var s=n.ActionCreators.redo;t.redo=s;var l=(0,r.defineAction)("CMS_UNDO_STACK_END_GROUP");t.endUpdateGroup=l},"./src/main/webapp/universal/src/apps/App/shared/utils/CatalogTaxonomyAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));var o="/api/catalog-taxonomy";var s=function e(t){return r.default.get("".concat(o,"/collection/").concat(t,"/categories"))};var l=function e(t,a){return r.default.post("".concat(o,"/collection/").concat(t,"/categories"),{categoryName:a})};var i=function e(t,a){return r.default.delete("".concat(o,"/collection/").concat(t,"/categories/").concat(a))};var u=function e(t,a){return r.default.get("".concat(o,"/collection/").concat(t,"/item/").concat(a,"/categories"))};var d=function e(t,a,n){return r.default.post("".concat(o,"/collection/").concat(t,"/item/").concat(a,"/categories"),{categoryName:n})};var c=function e(t,a,n){return r.default.delete("".concat(o,"/collection/").concat(t,"/item/").concat(a,"/categories/").concat(n))};var p={loadItemCategories:u,loadPageCategories:s,removeItemCategory:c,removePageCategory:i,saveItemCategory:d,savePageCategory:l};t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/ItemCatalogAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.setIsItemAvailableInCatalog=o;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));function o(e,t){return r.default.put("/api/item-catalog/item/".concat(e,"/available?availableInCatalog=").concat(t))}},"./src/main/webapp/universal/src/apps/App/shared/utils/PageCatalogAPI.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.setIsPageAvailableInCatalog=o;var r=n(a("./common/temp/node_modules/@sqs/network/lib/index.js"));function o(e,t){return r.default.put("/api/page-catalog/collection/".concat(e,"/available?availableInCatalog=").concat(t))}},"./src/main/webapp/universal/src/shared/lightstep/tracer.ts":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.tracer=void 0;var r=n(a("./common/temp/node_modules/@opentelemetry/api/build/src/index.js"));var o=r.trace.getTracer("v6-site-frontend");t.tracer=o},"./src/main/webapp/universal/src/shared/lightstep/utils.ts":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.traceWith=void 0;var u=n(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var d=a("./common/temp/node_modules/@opentelemetry/api/build/src/index.js");var c=a("./src/main/webapp/universal/src/shared/lightstep/tracer.ts");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),true).forEach(function(e){(0,r.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var s=function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o="rum-".concat(t);var s="".concat(o,"-").concat(window.performance.now());var l=c.tracer.startSpan(t,p({kind:d.SpanKind.CLIENT},r.spanOptions));window.performance.mark(s);var n=function e(){window.performance.measure(o,s);l.end();if(r.onTraceComplete){var t=window.performance.getEntriesByName(o),a=(0,u.default)(t,1),n=a[0];r.onTraceComplete(n)}};var i=c.tracer.withSpan(l,a);if(i instanceof Promise)return i.then(function(e){n();return e});n();return i};t.traceWith=s},"./src/main/webapp/universal/src/shared/utils/Tweaks/TweakAnalytics.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.fireProductSaveTweakEvents=t.fireSaveEvents=t.getAnalyticsDataForChangedTweakValues=t.dataFromDefinition=t.fireDebounced=t.fire=t.events=void 0;var r=n(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var l=n(a("./common/temp/node_modules/lodash/map.js"));var o=n(a("./common/temp/node_modules/lodash/isArray.js"));var s=n(a("./common/temp/node_modules/lodash/debounce.js"));var i=n(a("./common/temp/node_modules/lodash/compact.js"));var u=n(a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts"));var d=n(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var c=n(a("./src/main/webapp/universal/src/shared/utils/Tweaks/constants/TweakTypeNames.js"));var p=a("./src/main/webapp/universal/src/shared/utils/Tweaks/SiteAestheticsUtils.js");var m=n(a("./src/main/webapp/universal/src/shared/utils/Tweaks/getChangedTweakValues.js"));var f=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),true).forEach(function(e){(0,r.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var h={RESET:"tweak_reset",SAVE:"tweak_save",DISCARD:"tweak_discard",MODAL_OPEN:"tweak_modal_open",UPDATE:"tweak_update",FILTER_BY_CLICK:"tweak_filter_by_click",FILTER_BY_SHOW_ALL:"tweak_filter_by_show_all",STYLE_PACK_IMPORT:"tweak_style_pack_import",STYLE_PACK_EXPORT:"tweak_style_pack_export"};t.events=h;var g=500;var E={};var w=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a&&"string"===typeof a&&(n=b({},n,{tweak_page_type:a}));(0,u.default)(t,n)};t.fire=w;var y=function e(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];E[t]||(E[t]=(0,s.default)(function(){w.apply(void 0,n);delete E[t]},g));E[t]()};t.fireDebounced=y;var T=function e(t,a){if(!t)return null;return{tweak_label:t.label,tweak_name:t.variableName,tweak_category:t.category,tweak_type:t.type,tweak_value:a,tweak_is_draggable:(0,o.default)(t.properties)&&t.properties.length>0}};t.dataFromDefinition=T;var C=function e(t){var a=t.tweakDefinitions,n=t.tweakValuesSaved,r=t.tweakValuesCurrent;var o=(0,m.default)({prev:n,next:r});var s=(0,i.default)((0,l.default)(o,function(e,t){return T(a[t],e)}));return s};t.getAnalyticsDataForChangedTweakValues=C;var S=function e(t){var r=t.pageType,a=t.tweakApi,o=t.tweakDefinitions,s=t.tweakValuesSaved,l=t.tweakValuesCurrent;window.requestIdleCallback(function(){try{var e=C({tweakDefinitions:o,tweakValuesSaved:s,tweakValuesCurrent:l});var n=new Set;e.forEach(function(e){var t=e.tweak_type,a=e.tweak_name;if(d.default.isSevenOne()){if(t===c.default.color)return;if((0,p.isFontVariableName)(a))return}n.add(a);w(h.SAVE,r,e)});null===a||void 0===a?void 0:a.trackSaveChanges(Array.from(n))}catch(e){}},{timeout:1e3})};t.fireSaveEvents=S;var j=function e(t){var r=t.tweakValuesSaved,o=t.tweakValuesCurrent,s=t.indirectObjectType;window.requestIdleCallback(function(){try{var e=(0,m.default)({prev:r,next:o});for(var t=0,a=Object.keys(e);t<a.length;t++){var n=a[t];f.default.frameToolbarSaveTweak(n,s)}}catch(e){}})};t.fireProductSaveTweakEvents=j},"./src/main/webapp/universal/src/shared/utils/Tweaks/constants/TweakTypeNames.js":function(e,t,a){"use strict";var n=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./src/main/webapp/universal/src/shared/utils/enum.js"));var o=(0,r.default)("fontFamily","fontStyle","fontWeight","value","dropdown","checkbox","color");t.default=o;e.exports=t.default}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/frame-toolbar-desktop-b474b7cf8d3bf0eedb7f6-min.en-US.js.map